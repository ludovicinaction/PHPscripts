(function(e){function s(n){var s=".smartmenus_mouse";if(!i&&!n){var f=true,l=null;e(document).bind(a([["mousemove",function(n){var i={x:n.pageX,y:n.pageY,timeStamp:(new Date).getTime()};if(l){var s=Math.abs(l.x-i.x),o=Math.abs(l.y-i.y);if((s>0||o>0)&&s<=2&&o<=2&&i.timeStamp-l.timeStamp<=300){r=true;if(f){var u=e(n.target).closest("a");if(u.is("a")){e.each(t,function(){if(e.contains(this.$root[0],u[0])){this.itemEnter({currentTarget:u[0]});return false}})}f=false}}}l=i}],[u()?"touchstart":"pointerover pointermove pointerout MSPointerOver MSPointerMove MSPointerOut",function(e){if(o(e.originalEvent)){r=false}}]],s));i=true}else if(i&&n){e(document).unbind(s);i=false}}function o(e){return!/^(4|mouse)$/.test(e.pointerType)}function u(){return"ontouchstart"in window}function a(t,n){if(!n){n=""}var r={};e.each(t,function(e,t){r[t[0].split(" ").join(n+" ")+n]=t[1]});return r}var t=[],n=!!window.createPopup,r=false,i=false;e.SmartMenus=function(t,n){this.$root=e(t);this.opts=n;this.rootId="";this.$subArrow=null;this.subMenus=[];this.activatedItems=[];this.visibleSubMenus=[];this.showTimeout=0;this.hideTimeout=0;this.scrollTimeout=0;this.clickActivated=false;this.zIndexInc=0;this.$firstLink=null;this.$firstSub=null;this.disabled=false;this.$disableOverlay=null;this.isTouchScrolling=false;this.init()};e.extend(e.SmartMenus,{hideAll:function(){e.each(t,function(){this.menuHideAll()})},destroy:function(){while(t.length){t[0].destroy()}s(true)},prototype:{init:function(n){var r=this;if(!n){t.push(this);this.rootId=((new Date).getTime()+Math.random()+"").replace(/\D/g,"");if(this.$root.hasClass("sm-rtl")){this.opts.rightToLeftSubMenus=true}var i=".smartmenus";this.$root.data("smartmenus",this).attr("data-smartmenus-id",this.rootId).dataSM("level",1).bind(a([["mouseover focusin",e.proxy(this.rootOver,this)],["mouseout focusout",e.proxy(this.rootOut,this)]],i)).delegate("a",a([["mouseenter",e.proxy(this.itemEnter,this)],["mouseleave",e.proxy(this.itemLeave,this)],["mousedown",e.proxy(this.itemDown,this)],["focus",e.proxy(this.itemFocus,this)],["blur",e.proxy(this.itemBlur,this)],["click",e.proxy(this.itemClick,this)],["touchend",e.proxy(this.itemTouchEnd,this)]],i));i+=this.rootId;if(this.opts.hideOnClick){e(document).bind(a([["touchstart",e.proxy(this.docTouchStart,this)],["touchmove",e.proxy(this.docTouchMove,this)],["touchend",e.proxy(this.docTouchEnd,this)],["click",e.proxy(this.docClick,this)]],i))}e(window).bind(a([["resize orientationchange",e.proxy(this.winResize,this)]],i));if(this.opts.subIndicators){this.$subArrow=e("<span/>").addClass("sub-arrow");if(this.opts.subIndicatorsText){this.$subArrow.html(this.opts.subIndicatorsText)}}s()}this.$firstSub=this.$root.find("ul").each(function(){r.menuInit(e(this))}).eq(0);this.$firstLink=this.$root.find("a").eq(0);if(this.opts.markCurrentItem){var o=/(index|default)\.[^#\?\/]*/i,u=/#.*/,f=window.location.href.replace(o,""),l=f.replace(u,"");this.$root.find("a").each(function(){var t=this.href.replace(o,""),n=e(this);if(t==f||t==l){n.addClass("current");if(r.opts.markCurrentTree){n.parent().parentsUntil("[data-smartmenus-id]","li").children("a").addClass("current")}}})}},destroy:function(){this.menuHideAll();var n=".smartmenus";this.$root.removeData("smartmenus").removeAttr("data-smartmenus-id").removeDataSM("level").unbind(n).undelegate(n);n+=this.rootId;e(document).unbind(n);e(window).unbind(n);if(this.opts.subIndicators){this.$subArrow=null}var r=this;e.each(this.subMenus,function(){if(this.hasClass("mega-menu")){this.find("ul").removeDataSM("in-mega")}if(this.dataSM("shown-before")){if(r.opts.subMenusMinWidth||r.opts.subMenusMaxWidth){this.css({width:"",minWidth:"",maxWidth:""}).removeClass("sm-nowrap")}if(this.dataSM("scroll-arrows")){this.dataSM("scroll-arrows").remove()}this.css({zIndex:"",top:"",left:"",marginLeft:"",marginTop:"",display:""})}if(r.opts.subIndicators){this.dataSM("parent-a").removeClass("has-submenu").children("span.sub-arrow").remove()}this.removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired").parent().removeDataSM("sub")});if(this.opts.markCurrentItem){this.$root.find("a.current").removeClass("current")}this.$root=null;this.$firstLink=null;this.$firstSub=null;if(this.$disableOverlay){this.$disableOverlay.remove();this.$disableOverlay=null}t.splice(e.inArray(this,t),1)},disable:function(t){if(!this.disabled){this.menuHideAll();if(!t&&!this.opts.isPopup&&this.$root.is(":visible")){var n=this.$root.offset();this.$disableOverlay=e('<div class="sm-jquery-disable-overlay"/>').css({position:"absolute",top:n.top,left:n.left,width:this.$root.outerWidth(),height:this.$root.outerHeight(),zIndex:this.getStartZIndex(true),opacity:0}).appendTo(document.body)}this.disabled=true}},docClick:function(t){if(this.isTouchScrolling){this.isTouchScrolling=false;return}if(this.visibleSubMenus.length&&!e.contains(this.$root[0],t.target)||e(t.target).is("a")){this.menuHideAll()}},docTouchEnd:function(t){if(!this.lastTouch){return}if(this.visibleSubMenus.length&&(this.lastTouch.x2===undefined||this.lastTouch.x1==this.lastTouch.x2)&&(this.lastTouch.y2===undefined||this.lastTouch.y1==this.lastTouch.y2)&&(!this.lastTouch.target||!e.contains(this.$root[0],this.lastTouch.target))){if(this.hideTimeout){clearTimeout(this.hideTimeout);this.hideTimeout=0}var n=this;this.hideTimeout=setTimeout(function(){n.menuHideAll()},350)}this.lastTouch=null},docTouchMove:function(e){if(!this.lastTouch){return}var t=e.originalEvent.touches[0];this.lastTouch.x2=t.pageX;this.lastTouch.y2=t.pageY},docTouchStart:function(e){var t=e.originalEvent.touches[0];this.lastTouch={x1:t.pageX,y1:t.pageY,target:t.target}},enable:function(){if(this.disabled){if(this.$disableOverlay){this.$disableOverlay.remove();this.$disableOverlay=null}this.disabled=false}},getClosestMenu:function(t){var n=e(t).closest("ul");while(n.dataSM("in-mega")){n=n.parent().closest("ul")}return n[0]||null},getHeight:function(e){return this.getOffset(e,true)},getOffset:function(e,t){var n;if(e.css("display")=="none"){n={position:e[0].style.position,visibility:e[0].style.visibility};e.css({position:"absolute",visibility:"hidden"}).show()}var r=e[0].getBoundingClientRect&&e[0].getBoundingClientRect(),i=r&&(t?r.height||r.bottom-r.top:r.width||r.right-r.left);if(!i&&i!==0){i=t?e[0].offsetHeight:e[0].offsetWidth}if(n){e.hide().css(n)}return i},getStartZIndex:function(e){var t=parseInt(this[e?"$root":"$firstSub"].css("z-index"));if(!e&&isNaN(t)){t=parseInt(this.$root.css("z-index"))}return!isNaN(t)?t:1},getTouchPoint:function(e){return e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e},getViewport:function(e){var t=e?"Height":"Width",n=document.documentElement["client"+t],r=window["inner"+t];if(r){n=Math.min(n,r)}return n},getViewportHeight:function(){return this.getViewport(true)},getViewportWidth:function(){return this.getViewport()},getWidth:function(e){return this.getOffset(e)},handleEvents:function(){return!this.disabled&&this.isCSSOn()},handleItemEvents:function(e){return this.handleEvents()&&!this.isLinkInMegaMenu(e)},isCollapsible:function(){return this.$firstSub.css("position")=="static"},isCSSOn:function(){return this.$firstLink.css("display")=="block"},isFixed:function(){var t=this.$root.css("position")=="fixed";if(!t){this.$root.parentsUntil("body").each(function(){if(e(this).css("position")=="fixed"){t=true;return false}})}return t},isLinkInMegaMenu:function(e){return!e.parent().parent().dataSM("level")},isTouchMode:function(){return!r||this.isCollapsible()},itemActivate:function(t){var n=t.parent(),r=n.parent(),i=r.dataSM("level");if(i>1&&(!this.activatedItems[i-2]||this.activatedItems[i-2][0]!=r.dataSM("parent-a")[0])){var s=this;e(r.parentsUntil("[data-smartmenus-id]","ul").get().reverse()).add(r).each(function(){s.itemActivate(e(this).dataSM("parent-a"))})}if(this.visibleSubMenus.length>i){this.menuHideSubMenus(!this.activatedItems[i-1]||this.activatedItems[i-1][0]!=t[0]?i-1:i)}this.activatedItems[i-1]=t;this.visibleSubMenus[i-1]=r;if(this.$root.triggerHandler("activate.smapi",t[0])===false){return}var o=n.dataSM("sub");if(o&&(this.isTouchMode()||!this.opts.showOnClick||this.clickActivated)){this.menuShow(o)}},itemBlur:function(t){var n=e(t.currentTarget);if(!this.handleItemEvents(n)){return}this.$root.triggerHandler("blur.smapi",n[0])},itemClick:function(t){if(this.isTouchScrolling){this.isTouchScrolling=false;t.stopPropagation();return false}var n=e(t.currentTarget);if(!this.handleItemEvents(n)){return}n.removeDataSM("mousedown");if(this.$root.triggerHandler("click.smapi",n[0])===false){return false}var r=n.parent().dataSM("sub");if(this.isTouchMode()){if(n.dataSM("href")){n.attr("href",n.dataSM("href")).removeDataSM("href")}if(r&&(!r.dataSM("shown-before")||!r.is(":visible"))){this.itemActivate(n);if(r.is(":visible")){return false}}}else if(this.opts.showOnClick&&n.parent().parent().dataSM("level")==1&&r){this.clickActivated=true;this.menuShow(r);return false}if(n.hasClass("disabled")){return false}if(this.$root.triggerHandler("select.smapi",n[0])===false){return false}},itemDown:function(t){var n=e(t.currentTarget);if(!this.handleItemEvents(n)){return}n.dataSM("mousedown",true)},itemEnter:function(t){var n=e(t.currentTarget);if(!this.handleItemEvents(n)){return}if(!this.isTouchMode()){if(this.showTimeout){clearTimeout(this.showTimeout);this.showTimeout=0}var r=this;this.showTimeout=setTimeout(function(){r.itemActivate(n)},this.opts.showOnClick&&n.parent().parent().dataSM("level")==1?1:this.opts.showTimeout)}this.$root.triggerHandler("mouseenter.smapi",n[0])},itemFocus:function(t){var n=e(t.currentTarget);if(!this.handleItemEvents(n)){return}if((!this.isTouchMode()||!n.dataSM("mousedown"))&&(!this.activatedItems.length||this.activatedItems[this.activatedItems.length-1][0]!=n[0])){this.itemActivate(n)}this.$root.triggerHandler("focus.smapi",n[0])},itemLeave:function(t){var n=e(t.currentTarget);if(!this.handleItemEvents(n)){return}if(!this.isTouchMode()){if(n[0].blur){n[0].blur()}if(this.showTimeout){clearTimeout(this.showTimeout);this.showTimeout=0}}n.removeDataSM("mousedown");this.$root.triggerHandler("mouseleave.smapi",n[0])},itemTouchEnd:function(t){var n=e(t.currentTarget);if(!this.handleItemEvents(n)){return}var r=n.parent().dataSM("sub");if(n.attr("href").charAt(0)!=="#"&&r&&(!r.dataSM("shown-before")||!r.is(":visible"))){n.dataSM("href",n.attr("href"));n.attr("href","#")}},menuFixLayout:function(e){if(!e.dataSM("shown-before")){e.hide().dataSM("shown-before",true)}},menuHide:function(e){if(this.$root.triggerHandler("beforehide.smapi",e[0])===false){return}e.stop(true,true);if(e.is(":visible")){var t=function(){e.css("z-index","")};if(this.isCollapsible()){if(this.opts.collapsibleHideFunction){this.opts.collapsibleHideFunction.call(this,e,t)}else{e.hide(this.opts.collapsibleHideDuration,t)}}else{if(this.opts.hideFunction){this.opts.hideFunction.call(this,e,t)}else{e.hide(this.opts.hideDuration,t)}}if(e.dataSM("ie-shim")){e.dataSM("ie-shim").remove()}if(e.dataSM("scroll")){this.menuScrollStop(e);e.css({"touch-action":"","-ms-touch-action":""}).unbind(".smartmenus_scroll").removeDataSM("scroll").dataSM("scroll-arrows").hide()}e.dataSM("parent-a").removeClass("highlighted");var n=e.dataSM("level");this.activatedItems.splice(n-1,1);this.visibleSubMenus.splice(n-1,1);this.$root.triggerHandler("hide.smapi",e[0])}},menuHideAll:function(){if(this.showTimeout){clearTimeout(this.showTimeout);this.showTimeout=0}this.menuHideSubMenus();if(this.opts.isPopup){this.$root.stop(true,true);if(this.$root.is(":visible")){if(this.opts.hideFunction){this.opts.hideFunction.call(this,this.$root)}else{this.$root.hide(this.opts.hideDuration)}if(this.$root.dataSM("ie-shim")){this.$root.dataSM("ie-shim").remove()}}}this.activatedItems=[];this.visibleSubMenus=[];this.clickActivated=false;this.zIndexInc=0},menuHideSubMenus:function(e){if(!e)e=0;for(var t=this.visibleSubMenus.length-1;t>e;t--){this.menuHide(this.visibleSubMenus[t])}},menuIframeShim:function(t){if(n&&this.opts.overlapControlsInIE&&!t.dataSM("ie-shim")){t.dataSM("ie-shim",e("<iframe/>").attr({src:"javascript:0",tabindex:-9}).css({position:"absolute",top:"auto",left:"0",opacity:0,border:"0"}))}},menuInit:function(e){if(!e.dataSM("in-mega")){this.subMenus.push(e);if(e.hasClass("mega-menu")){e.find("ul").dataSM("in-mega",true)}var t=2,n=e[0];while((n=n.parentNode.parentNode)!=this.$root[0]){t++}e.dataSM("parent-a",e.prevAll("a").eq(-1)).dataSM("level",t).parent().dataSM("sub",e);if(this.opts.subIndicators){e.dataSM("parent-a").addClass("has-submenu")[this.opts.subIndicatorsPos](this.$subArrow.clone())}}},menuPosition:function(t){var n=t.dataSM("parent-a"),r=t.parent().parent(),i=t.dataSM("level"),s=this.getWidth(t),o=this.getHeight(t),f=n.offset(),l=f.left,c=f.top,h=this.getWidth(n),p=this.getHeight(n),d=e(window),v=d.scrollLeft(),m=d.scrollTop(),g=this.getViewportWidth(),y=this.getViewportHeight(),b=r.hasClass("sm")&&!r.hasClass("sm-vertical"),w=i==2?this.opts.mainMenuSubOffsetX:this.opts.subMenusSubOffsetX,E=i==2?this.opts.mainMenuSubOffsetY:this.opts.subMenusSubOffsetY,S,x;if(b){S=this.opts.rightToLeftSubMenus?h-s-w:w;x=this.opts.bottomToTopSubMenus?-o-E:p+E}else{S=this.opts.rightToLeftSubMenus?w-s:h-w;x=this.opts.bottomToTopSubMenus?p-E-o:E}if(this.opts.keepInViewport&&!this.isCollapsible()){var T=l+S,N=c+x;if(this.opts.rightToLeftSubMenus&&T<v){S=b?v-T+S:h-w}else if(!this.opts.rightToLeftSubMenus&&T+s>v+g){S=b?v+g-s-T+S:w-s}if(!b){if(o<y&&N+o>m+y){x+=m+y-o-N}else if(o>=y||N<m){x+=m-N}}if(b&&(N+o>m+y+.49||N<m)||!b&&o>y+.49){var C=this;if(!t.dataSM("scroll-arrows")){t.dataSM("scroll-arrows",e([e('<span class="scroll-up"><span class="scroll-up-arrow"></span></span>')[0],e('<span class="scroll-down"><span class="scroll-down-arrow"></span></span>')[0]]).bind({mouseenter:function(){t.dataSM("scroll").up=e(this).hasClass("scroll-up");C.menuScroll(t)},mouseleave:function(e){C.menuScrollStop(t);C.menuScrollOut(t,e)},"mousewheel DOMMouseScroll":function(e){e.preventDefault()}}).insertAfter(t))}var k=".smartmenus_scroll";t.dataSM("scroll",{step:1,itemH:p,subH:o,arrowDownH:this.getHeight(t.dataSM("scroll-arrows").eq(1))}).bind(a([["mouseover",function(e){C.menuScrollOver(t,e)}],["mouseout",function(e){C.menuScrollOut(t,e)}],["mousewheel DOMMouseScroll",function(e){C.menuScrollMousewheel(t,e)}]],k)).dataSM("scroll-arrows").css({top:"auto",left:"0",marginLeft:S+(parseInt(t.css("border-left-width"))||0),width:s-(parseInt(t.css("border-left-width"))||0)-(parseInt(t.css("border-right-width"))||0),zIndex:t.css("z-index")}).eq(b&&this.opts.bottomToTopSubMenus?0:1).show();if(this.isFixed()){t.css({"touch-action":"none","-ms-touch-action":"none"}).bind(a([[u()?"touchstart touchmove touchend":"pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp",function(e){C.menuScrollTouch(t,e)}]],k))}}}t.css({top:"auto",left:"0",marginLeft:S,marginTop:x-p});this.menuIframeShim(t);if(t.dataSM("ie-shim")){t.dataSM("ie-shim").css({zIndex:t.css("z-index"),width:s,height:o,marginLeft:S,marginTop:x-p})}},menuScroll:function(e,t,n){var i=e.dataSM("scroll"),s=e.dataSM("scroll-arrows"),o=parseFloat(e.css("margin-top")),u=i.up?i.upEnd:i.downEnd,a;if(!t&&i.velocity){i.velocity*=.9;a=i.velocity;if(a<.5){this.menuScrollStop(e);return}}else{a=n||(t||!this.opts.scrollAccelerate?this.opts.scrollStep:Math.floor(i.step))}var f=e.dataSM("level");if(this.visibleSubMenus.length>f){this.menuHideSubMenus(f-1)}var l=i.up&&u<=o||!i.up&&u>=o?o:Math.abs(u-o)>a?o+(i.up?a:-a):u;e.add(e.dataSM("ie-shim")).css("margin-top",l);if(r&&(i.up&&l>i.downEnd||!i.up&&l<i.upEnd)){s.eq(i.up?1:0).show()}if(l==u){if(r){s.eq(i.up?0:1).hide()}this.menuScrollStop(e)}else if(!t){if(this.opts.scrollAccelerate&&i.step<this.opts.scrollStep){i.step+=.5}var c=this;this.scrollTimeout=setTimeout(function(){c.menuScroll(e)},this.opts.scrollInterval)}},menuScrollMousewheel:function(e,t){if(this.getClosestMenu(t.target)==e[0]){t=t.originalEvent;var n=(t.wheelDelta||-t.detail)>0;if(e.dataSM("scroll-arrows").eq(n?0:1).is(":visible")){e.dataSM("scroll").up=n;this.menuScroll(e,true)}}t.preventDefault()},menuScrollOut:function(t,n){if(r){if(!/^scroll-(up|down)/.test((n.relatedTarget||"").className)&&(t[0]!=n.relatedTarget&&!e.contains(t[0],n.relatedTarget)||this.getClosestMenu(n.relatedTarget)!=t[0])){t.dataSM("scroll-arrows").css("visibility","hidden")}}},menuScrollOver:function(e,t){if(r){if(!/^scroll-(up|down)/.test(t.target.className)&&this.getClosestMenu(t.target)==e[0]){this.menuScrollRefreshData(e);var n=e.dataSM("scroll");e.dataSM("scroll-arrows").eq(0).css("margin-top",n.upEnd).end().eq(1).css("margin-top",n.downEnd+n.subH-n.arrowDownH).end().css("visibility","visible")}}},menuScrollRefreshData:function(t){var n=t.dataSM("scroll"),r=e(window),i=r.scrollTop()-t.dataSM("parent-a").offset().top-n.itemH;e.extend(n,{upEnd:i,downEnd:i+this.getViewportHeight()-n.subH})},menuScrollStop:function(t){if(this.scrollTimeout){clearTimeout(this.scrollTimeout);this.scrollTimeout=0;e.extend(t.dataSM("scroll"),{step:1,velocity:0});return true}},menuScrollTouch:function(t,n){n=n.originalEvent;if(o(n)){var r=this.getTouchPoint(n);if(this.getClosestMenu(r.target)==t[0]){var i=t.dataSM("scroll");if(/(start|down)$/i.test(n.type)){if(this.menuScrollStop(t)){n.preventDefault();this.isTouchScrolling=true}else{this.isTouchScrolling=false}this.menuScrollRefreshData(t);e.extend(i,{touchY:r.pageY,touchTimestamp:n.timeStamp,velocity:0})}else if(/move$/i.test(n.type)){var s=i.touchY;if(s!==undefined&&s!=r.pageY){this.isTouchScrolling=true;e.extend(i,{up:s<r.pageY,touchY:r.pageY,touchTimestamp:n.timeStamp,velocity:i.velocity+Math.abs(r.pageY-s)*.5});this.menuScroll(t,true,Math.abs(i.touchY-s))}n.preventDefault()}else{if(i.touchY!==undefined){if(n.timeStamp-i.touchTimestamp<120&&i.velocity>0){i.velocity*=.5;this.menuScrollStop(t);this.menuScroll(t);n.preventDefault()}delete i.touchY}}}}},menuShow:function(e){if(!e.dataSM("beforefirstshowfired")){e.dataSM("beforefirstshowfired",true);if(this.$root.triggerHandler("beforefirstshow.smapi",e[0])===false){return}}if(this.$root.triggerHandler("beforeshow.smapi",e[0])===false){return}this.menuFixLayout(e);e.stop(true,true);if(!e.is(":visible")){e.css("z-index",this.zIndexInc=(this.zIndexInc||this.getStartZIndex())+1);if(this.opts.keepHighlighted||this.isCollapsible()){e.dataSM("parent-a").addClass("highlighted")}if(this.opts.subMenusMinWidth||this.opts.subMenusMaxWidth){e.css({width:"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap");if(this.opts.subMenusMinWidth){e.css("min-width",this.opts.subMenusMinWidth)}if(this.opts.subMenusMaxWidth){var t=this.getWidth(e);e.css("max-width",this.opts.subMenusMaxWidth);if(t>this.getWidth(e)){e.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth)}}}this.menuPosition(e);if(e.dataSM("ie-shim")){e.dataSM("ie-shim").insertBefore(e)}var n=function(){e.css("overflow","")};if(this.isCollapsible()){if(this.opts.collapsibleShowFunction){this.opts.collapsibleShowFunction.call(this,e,n)}else{e.show(this.opts.collapsibleShowDuration,n)}}else{if(this.opts.showFunction){this.opts.showFunction.call(this,e,n)}else{e.show(this.opts.showDuration,n)}}this.visibleSubMenus[e.dataSM("level")-1]=e;this.$root.triggerHandler("show.smapi",e[0])}},popupHide:function(e){if(this.hideTimeout){clearTimeout(this.hideTimeout);this.hideTimeout=0}var t=this;this.hideTimeout=setTimeout(function(){t.menuHideAll()},e?1:this.opts.hideTimeout)},popupShow:function(e,t){if(!this.opts.isPopup){alert('SmartMenus jQuery Error:\n\nIf you want to show this menu via the "popupShow" method, set the isPopup:true option.');return}if(this.hideTimeout){clearTimeout(this.hideTimeout);this.hideTimeout=0}this.menuFixLayout(this.$root);this.$root.stop(true,true);if(!this.$root.is(":visible")){this.$root.css({left:e,top:t});this.menuIframeShim(this.$root);if(this.$root.dataSM("ie-shim")){this.$root.dataSM("ie-shim").css({zIndex:this.$root.css("z-index"),width:this.getWidth(this.$root),height:this.getHeight(this.$root),left:e,top:t}).insertBefore(this.$root)}var n=this,r=function(){n.$root.css("overflow","")};if(this.opts.showFunction){this.opts.showFunction.call(this,this.$root,r)}else{this.$root.show(this.opts.showDuration,r)}this.visibleSubMenus[0]=this.$root}},refresh:function(){this.menuHideAll();this.$root.find("ul").each(function(){var t=e(this);if(t.dataSM("scroll-arrows")){t.dataSM("scroll-arrows").remove()}}).removeDataSM("in-mega").removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired");this.$root.find("a.has-submenu").removeClass("has-submenu").parent().removeDataSM("sub");if(this.opts.subIndicators){this.$root.find("span.sub-arrow").remove()}if(this.opts.markCurrentItem){this.$root.find("a.current").removeClass("current")}this.subMenus=[];this.init(true)},rootOut:function(e){if(!this.handleEvents()||this.isTouchMode()||e.target==this.$root[0]){return}if(this.hideTimeout){clearTimeout(this.hideTimeout);this.hideTimeout=0}if(!this.opts.showOnClick||!this.opts.hideOnClick){var t=this;this.hideTimeout=setTimeout(function(){t.menuHideAll()},this.opts.hideTimeout)}},rootOver:function(e){if(!this.handleEvents()||this.isTouchMode()||e.target==this.$root[0]){return}if(this.hideTimeout){clearTimeout(this.hideTimeout);this.hideTimeout=0}},winResize:function(e){if(!this.handleEvents()){if(this.$disableOverlay){var t=this.$root.offset();this.$disableOverlay.css({top:t.top,left:t.left,width:this.$root.outerWidth(),height:this.$root.outerHeight()})}return}if(!this.isCollapsible()&&(!("onorientationchange"in window)||e.type=="orientationchange")){if(this.activatedItems.length){this.activatedItems[this.activatedItems.length-1][0].blur()}this.menuHideAll()}}}});e.fn.dataSM=function(e,t){if(t){return this.data(e+"_smartmenus",t)}return this.data(e+"_smartmenus")};e.fn.removeDataSM=function(e){return this.removeData(e+"_smartmenus")};e.fn.smartmenus=function(t){if(typeof t=="string"){var n=arguments,r=t;Array.prototype.shift.call(n);return this.each(function(){var t=e(this).data("smartmenus");if(t&&t[r]){t[r].apply(t,n)}})}var i=e.extend({},e.fn.smartmenus.defaults,t);return this.each(function(){new e.SmartMenus(this,i)})};e.fn.smartmenus.defaults={isPopup:false,mainMenuSubOffsetX:0,mainMenuSubOffsetY:0,subMenusSubOffsetX:0,subMenusSubOffsetY:0,subMenusMinWidth:"10em",subMenusMaxWidth:"20em",subIndicators:true,subIndicatorsPos:"prepend",subIndicatorsText:"+",scrollStep:30,scrollInterval:30,scrollAccelerate:true,showTimeout:250,hideTimeout:500,showDuration:0,showFunction:null,hideDuration:0,hideFunction:function(e,t){e.fadeOut(200,t)},collapsibleShowDuration:0,collapsibleShowFunction:function(e,t){e.slideDown(200,t)},collapsibleHideDuration:0,collapsibleHideFunction:function(e,t){e.slideUp(200,t)},showOnClick:false,hideOnClick:true,keepInViewport:true,keepHighlighted:true,markCurrentItem:false,markCurrentTree:true,rightToLeftSubMenus:false,bottomToTopSubMenus:false,overlapControlsInIE:true}})(jQuery)